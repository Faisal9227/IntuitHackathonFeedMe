CREATE TABLE Organization
(
  OrgId INT NOT NULL AUTOINCREMENT,
  Name VARCHAR(50) NOT NULL,
  Street VARCHAR(50) NOT NULL,
  City VARCHAR(20) NOT NULL,
  State VARCHAR(20) NOT NULL,
  Zip VARCHAR(6) NOT NULL,
  PRIMARY KEY (OrgId)
);

CREATE TABLE Proposal
(
  Image BLOB,
  Serves INT NOT NULL,
  Street VARCHAR(50) NOT NULL,
  City VARCHAR(20) NOT NULL,
  State VARCHAR(20) NOT NULL,
  Zip VARCHAR(6) NOT NULL,
  Status VARCHAR(10) NOT NULL,
  ProposalID INT NOT NULL AUTOINCREMENT,
  ProposalTime DATETIME NOT NULL,
  OrgId INT NOT NULL,
  PRIMARY KEY (ProposalID),
  FOREIGN KEY (OrgId) REFERENCES Organization(OrgId)
);

CREATE TABLE Subscribes
(
  OrgID INT NOT NULL,
  SubscriberID INT NOT NULL,
  PRIMARY KEY (OrgID, SubscriberID),
  FOREIGN KEY (OrgID) REFERENCES Organization(OrgId),
  FOREIGN KEY (SubscriberID) REFERENCES Organization(OrgId)
);

CREATE TABLE Organization_Email
(
  Email VARCHAR(50) NOT NULL,
  OrgId INT NOT NULL,
  PRIMARY KEY (Email, OrgId),
  FOREIGN KEY (OrgId) REFERENCES Organization(OrgId)
);

CREATE TABLE Organization_CellPhone
(
  CellPhone VARCHAR(15) NOT NULL,
  OrgId INT NOT NULL,
  PRIMARY KEY (CellPhone, OrgId),
  FOREIGN KEY (OrgId) REFERENCES Organization(OrgId)
);

CREATE TABLE Approval
(
  ApprovalID INT NOT NULL AUTOINCREMENT,
  ApprovalTime DATETIME NOT NULL,
  Serves INT NOT NULL,
  ProposalID INT NOT NULL,
  OrgId INT NOT NULL,
  PRIMARY KEY (ApprovalID),
  FOREIGN KEY (ProposalID) REFERENCES Proposal(ProposalID),
  FOREIGN KEY (OrgId) REFERENCES Organization(OrgId)
);
